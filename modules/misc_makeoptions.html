<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Misc/makeOptions | @labor-digital/helferlein</title>
	<meta name="description" content="Documentation for @labor-digital/helferlein">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">@labor-digital/helferlein</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">@labor-digital/helferlein</a>
				</li>
				<li>
					<a href="misc_makeoptions.html">Misc/makeOptions</a>
				</li>
			</ul>
			<h1>Module Misc/makeOptions</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Classes</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/misc_makeoptions.optionapplier.html" class="tsd-kind-icon">Option<wbr>Applier</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Functions</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-function tsd-parent-kind-module"><a href="misc_makeoptions.html#makeoptions" class="tsd-kind-icon">make<wbr>Options</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Functions</h2>
				<section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module">
					<a name="makeoptions" class="tsd-anchor"></a>
					<h3>make<wbr>Options</h3>
					<ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module">
						<li class="tsd-signature tsd-kind-icon">make<wbr>Options<span class="tsd-signature-symbol">(</span>input<span class="tsd-signature-symbol">: </span><a href="interfaces_list.html#list" class="tsd-signature-type" data-tsd-kind="Type alias">List</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">any</span>, definition<span class="tsd-signature-symbol">: </span><a href="../interfaces/misc_makeoptions_interfaces.makeoptionsdefinition.html" class="tsd-signature-type" data-tsd-kind="Interface">MakeOptionsDefinition</a>, options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/misc_makeoptions_interfaces.makeoptionsoptions.html" class="tsd-signature-type" data-tsd-kind="Interface">MakeOptionsOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="interfaces_list.html#list" class="tsd-signature-type" data-tsd-kind="Type alias">List</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">any</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/labor-digital/helferlein/blob/b69112c/src/Misc/makeOptions.ts#L534">src/Misc/makeOptions.ts:534</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>This nifty little helper is used to apply a default definition of options
									to a given object of options (presumably transferred as a function parameter)</p>
								</div>
								<p>An Example:
									function myFunc(value, options){
									const definition = {
									foo: {
									default: 123
									},
									bar: {
									default: null
									}
									}
									options = makeOptions(options, definition);
									...
								}</p>
								<p>myFunc(&quot;something&quot;) =&gt; options will be {foo: 123, bar: null}
									myFunc(&quot;something&quot;, {foo: 234}) =&gt; $options will be {foo: 234, bar: null}
									myFunc(&quot;something&quot;, {rumpel: 234}) =&gt; This will cause an error, because the key is not known
								myfunc(&quot;something&quot;, {foo: &quot;rumpel&quot;}) $options will be {foo: &quot;rumpel&quot;, bar: null}</p>
								<p>IMPORTANT NOTE: When you want to set an array as default value make sure to wrap it in a function
								Example: $defaults = {rumpel: {default: {}}}} &lt;- Don&#39;t do this! Do this: {rumpel: {default: () =&gt; {return {}; }}}</p>
								<a href="#advanced-definitions" id="advanced-definitions" style="color: inherit; text-decoration: none;">
									<h1>Advanced definitions</h1>
								</a>
								<p>In addition to the simple default values you can also use an array as value in your definitions array.
								In it you can set the following options to validate and filter options as you wish.</p>
								<ul>
									<li><p>default (mixed|callable): This is the default value to use when the key in $options is empty.
											If not set the option key is required! If the default value is a Closure the closure is called
											and it&#39;s result is used as value.
										The callback receives $key, $options, $definition, $path(For child arrays)</p>
									</li>
									<li><p>type (string|array): Allows basic type validation of the input. Can either be a string or an array of strings.
											Possible values are: boolean, bool, true, false, number (int and float) or numeric (both int and float +
											string numbers), string, null, callable object and plainObject.
										If multiple values are supplied they will be seen as chained via OR operator.</p>
									</li>
									<li><p>preFilter (callable): A callback which is called BEFORE the type validation takes place and can be used to
										cast the incoming value before validating it&#39;s type.</p>
									</li>
									<li><p>filter (callable): A callback which is called after the type validation took place and can be used to process
											a given value before the custom validation begins.
										The callback receives $value, $key, $options, $definition, $path(For child arrays)</p>
									</li>
									<li><p>validator (callable): A callback which allows custom validation using closures or other callables. If used the
											function should return true if the validation was successful or false if not. It is also possible to return a
											string which allows you to set your own error message. In addition you may return an array of values that will
											be passed to the &quot;values&quot; validator (see the next point for the functionality)
										The callback receives $value, $key, $options, $definition, $path(For child arrays)</p>
									</li>
									<li><p>values (array): A basic validation routine which receives a list of possible values and will check if
											the given value will match at least one of them (OR operator). The array can either be set statically
											in your definition, or by using a &quot;validator&quot; callback that returns an array of possible values.
										The values validation takes place after the &quot;validator&quot; callback ran.</p>
									</li>
									<li><p>children (object): This can be used to apply nested definitions on option trees.
											The children definition is done exactly the same way as on root level.
											NOTE: The children will only be used if the value in $options is an array
										(or has a default value of an empty array)</p>
									</li>
								</ul>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>input: <a href="interfaces_list.html#list" class="tsd-signature-type" data-tsd-kind="Type alias">List</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">any</span></h5>
								</li>
								<li>
									<h5>definition: <a href="../interfaces/misc_makeoptions_interfaces.makeoptionsdefinition.html" class="tsd-signature-type" data-tsd-kind="Interface">MakeOptionsDefinition</a></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../interfaces/misc_makeoptions_interfaces.makeoptionsoptions.html" class="tsd-signature-type" data-tsd-kind="Interface">MakeOptionsOptions</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>Additional options</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="interfaces_list.html#list" class="tsd-signature-type" data-tsd-kind="Type alias">List</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">any</span></h4>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Exports</a>
					</li>
					<li class="current tsd-kind-module">
						<a href="misc_makeoptions.html">Misc/make<wbr>Options</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/misc_makeoptions.optionapplier.html" class="tsd-kind-icon">Option<wbr>Applier</a>
					</li>
					<li class=" tsd-kind-function tsd-parent-kind-module">
						<a href="misc_makeoptions.html#makeoptions" class="tsd-kind-icon">make<wbr>Options</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>